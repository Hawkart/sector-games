{"version":3,"file":"js/11.72e919b68ba394968b2b.js","sources":["webpack:///js/11.72e919b68ba394968b2b.js"],"sourcesContent":["webpackJsonp([11],{O9ju:function(t,e,n){\"use strict\";var r={render:function(){var t=this.$createElement,e=this._self._c||t;return e(\"div\",[null!=this.tournament?e(\"card\",{attrs:{title:this.tournament.title}}):this._e()],1)},staticRenderFns:[]};e.a=r},m5O0:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=n(\"nxqK\"),a=n.n(r);for(var u in r)\"default\"!==u&&function(t){n.d(e,t,function(){return r[t]})}(u);var s=n(\"O9ju\"),o=n(\"VU/8\")(a.a,s.a,!1,null,null,null);e.default=o.exports},nxqK:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var r=c(n(\"Xxa5\")),a=c(n(\"exGp\")),u=c(n(\"Dd8w\")),s=n(\"NYxO\"),o=c(n(\"mtWM\")),i=c(n(\"e7x4\"));function c(t){return t&&t.__esModule?t:{default:t}}e.default={metaInfo:function(){return{title:this.title}},computed:(0,u.default)({},(0,s.mapGetters)({user:\"auth/user\",authenticated:\"auth/check\",locale:\"lang/locale\"}),{teamsInTournament:function(){var t=[];return void 0!=this.tournament.teams&&this.tournament.teams.length>0&&this.tournament.teams.forEach(function(e){t.push(e.id)}),t}}),mounted:function(){this.getTournament()},data:function(){return{title:\"Detail tournament\",tournament:null,success:!1,error:!1,response:null,tabs:[{name:\"Overview\",route:\"tournament.detail\"},{name:\"Brackets\",route:\"tournament.detail.brackets\"},{name:\"Rules\",route:\"tournament.detail.rules\"}]}},methods:{getTournament:function(){var t=this;return(0,a.default)(r.default.mark(function e(){var n,a,u,s,i;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.ArrayToUrl({_with:\"game,fights,fights.invitations.team,fights.winner\"}),e.prev=1,e.next=4,o.default.get(\"/api/tournaments/\"+t.$route.params.id+\"?\"+n);case 4:a=e.sent,t.$set(t,\"tournament\",a.data),t.tournament.start_at=t.dateConvertUTC(t.tournament.start_at,-1),t.tournament.register_start=t.dateConvertUTC(t.tournament.register_start,-1),u=t.tournament.winners_part.split(\",\"),s=parseInt(t.tournament.prize_pool),i=[],u.forEach(function(t){i.push(parseInt(t)*s/100)}),t.tournament.prizes=i,t.title=t.tournament.title,t.$meta().refresh(),t.getTournamentTeams(),t.getTournamentBrackets(),Event.fire(\"tournamentEditLoad\",{tournament:t.tournament}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),t.errors.push(e.t0);case 23:case\"end\":return e.stop()}},e,t,[[1,20]])}))()},getTournamentTeams:function(){var t=this;return(0,a.default)(r.default.mark(function e(){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.default.get(\"/api/tournaments/\"+t.$route.params.id+\"/teams\");case 3:n=e.sent,t.$set(t.tournament,\"teams\",n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.errors.push(e.t0);case 10:case\"end\":return e.stop()}},e,t,[[0,7]])}))()},getTournamentBrackets:function(){var t=this;return(0,a.default)(r.default.mark(function e(){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.default.get(\"/api/tournaments/\"+t.$route.params.id+\"/brackets\");case 3:n=e.sent,t.$set(t.tournament,\"brackets\",n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.errors.push(e.t0);case 10:case\"end\":return e.stop()}},e,t,[[0,7]])}))()},register:function(){var t=this;this.authenticated?null!=this.user.team_id?o.default.post(\"/api/tournaments/\"+this.$route.params.id+\"/teams/\"+this.user.team_id).then(function(e){(0,i.default)({type:\"success\",title:\"Success!\",html:\"You are registered on the tournament!\"}),t.getTournamentTeams()}).catch(function(t){(0,i.default)({type:\"warning\",title:\"Error!\",html:t.response.data.error})}):(0,i.default)({type:\"warning\",title:\"Error!\",html:\"You need to be in the team.\"}):this.$router.push({name:\"auth.login\"})},checkRigisterStart:function(){return this.moment.utc().isAfter(this.tournament.register_start)},checkRigisterEnd:function(){return this.moment.utc().isBefore(this.moment(this.tournament.start_at).subtract(1,\"hours\"))},checkRegistered:function(t){return this.teamsInTournament.indexOf(t)>-1}}}}});\n\n\n// WEBPACK FOOTER //\n// js/11.72e919b68ba394968b2b.js"],"mappings":"AAAA","sourceRoot":""}