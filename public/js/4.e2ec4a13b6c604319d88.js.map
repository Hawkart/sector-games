{"version":3,"file":"js/4.e2ec4a13b6c604319d88.js","sources":["webpack:///js/4.e2ec4a13b6c604319d88.js"],"sourcesContent":["webpackJsonp([4],{\"+66z\":function(t,e){var a=Object.prototype.toString;t.exports=function(t){return a.call(t)}},\"1a3F\":function(t,e,a){\"use strict\";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"card\",{attrs:{title:t.$t(\"players\")}},[[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-12\"},[a(\"card\",[a(\"div\",{staticClass:\"form-wrap\"},[a(\"form\",{attrs:{autocomplete:\"off\",id:\"filter-form\"}},[a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-md-3\"},[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.nickname,expression:\"nickname\"}],staticClass:\"form-control\",attrs:{type:\"text\",name:\"nickname\",placeholder:t.$t(\"nickname\")},domProps:{value:t.nickname},on:{input:[function(e){e.target.composing||(t.nickname=e.target.value)},t.debouncedSearch]}})]),t._v(\" \"),a(\"div\",{staticClass:\"col-md-3\"},[a(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.status_id,expression:\"status_id\"}],staticClass:\"form-control\",attrs:{name:\"status_id\",\"data-style\":\"form-control btn-default btn-outline\",id:\"status_list\"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return\"_value\"in t?t._value:t.value});t.status_id=e.target.multiple?a:a[0]}}},t._l(t.statuses,function(e){return a(\"option\",{domProps:{value:e.id}},[t._v(\"\\n                                                \"+t._s(e.title)+\"\\n                                            \")])}),0)])])])])])],1)]),t._v(\" \"),a(\"div\",{staticClass:\"nk-gap-2\"})],t._v(\" \"),t.authenticated&&null!==t.players&&t.players.length>0?[a(\"a\",{staticClass:\"nk-btn nk-btn-rounded nk-btn-color-main-1 text-white\",on:{click:function(e){return e.preventDefault(),t.sendInvites(e)}}},[t._v(\"\\n                \"+t._s(t.$t(\"send_invitations_to_team\"))+\" (\"+t._s(parseInt(t.choose_players.length))+\")\\n            \")]),t._v(\" \"),a(\"div\",{staticClass:\"nk-gap\"})]:t._e(),t._v(\" \"),a(\"div\",{staticClass:\"row\"},[a(\"div\",{staticClass:\"col-lg-12 col-md-12 col-sm-12 col-xs-12\"},[null!==t.players&&t.players.length>0?a(\"table\",{staticClass:\"nk-table\"},[a(\"tbody\",[a(\"tr\",[t.authenticated?a(\"th\"):t._e(),t._v(\" \"),a(\"th\",[t._v(t._s(t.$t(\"name\")))]),t._v(\" \"),a(\"th\",[t._v(t._s(t.$t(\"team\")))]),t._v(\" \"),a(\"th\",[t._v(t._s(t.$t(\"count_matches\")))]),t._v(\" \"),a(\"th\",[t._v(t._s(t.$t(\"count_wins\")))]),t._v(\" \"),a(\"th\",[t._v(t._s(t.$t(\"victory_rate\")))]),t._v(\" \"),a(\"th\",[t._v(t._s(t.$t(\"status\")))])]),t._v(\" \"),t._l(t.players,function(e){return a(\"tr\",[t.authenticated?a(\"td\",{staticClass:\"text-center\"},[e.free_player&&e.id!=t.user.id?[a(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.choose_players,expression:\"choose_players\"}],attrs:{type:\"checkbox\"},domProps:{value:e.id,checked:Array.isArray(t.choose_players)?t._i(t.choose_players,e.id)>-1:t.choose_players},on:{change:function(a){var n=t.choose_players,i=a.target,s=!!i.checked;if(Array.isArray(n)){var r=e.id,o=t._i(n,r);i.checked?o<0&&(t.choose_players=n.concat([r])):o>-1&&(t.choose_players=n.slice(0,o).concat(n.slice(o+1)))}else t.choose_players=s}}}),t._v(\" \"),a(\"label\",[t._v(\"Â \")])]:t._e()],2):t._e(),t._v(\" \"),a(\"td\",[a(\"router-link\",{staticClass:\"vm-title\",attrs:{to:{name:\"player\",params:{id:e.id}}}},[a(\"img\",{staticClass:\"w-50px mr-10\",attrs:{src:t.getImageLink(e.avatar)}}),t._v(\" \"),a(\"span\",[t._v(t._s(e.nickname))])])],1),t._v(\" \"),a(\"td\",{staticClass:\"text-center\"},[e.team_id>0&&null!==e.team?a(\"span\",[a(\"router-link\",{attrs:{to:{name:\"team\",params:{id:e.team.id}}}},[null!==e.team.image?a(\"img\",{staticClass:\"w-50px mr-10\",attrs:{src:t.getImageLink(e.team.image)}}):t._e(),t._v(\" \"),null==e.team.image?a(\"span\",[t._v(t._s(e.team.title))]):t._e()])],1):t._e()]),t._v(\" \"),a(\"td\",{staticClass:\"text-center\"},[t._v(t._s(e.fights_count))]),t._v(\" \"),a(\"td\",{staticClass:\"text-center\"},[t._v(t._s(e.wins))]),t._v(\" \"),e.fights_count>0?a(\"td\",{staticClass:\"text-center\"},[t._v(t._s(Number((e.wins/e.fights_count*100).toFixed(2)))+\"%\")]):a(\"td\",{staticClass:\"text-center\"},[t._v(\"0\")]),t._v(\" \"),a(\"td\",{staticClass:\"text-center\"},[e.free_player?a(\"span\",[a(\"span\",{staticClass:\"text-warning\"},[t._v(t._s(t.$t(\"free\")))])]):e.team_id>0&&e.id==e.team.capt_id?a(\"span\",[a(\"span\",{staticClass:\"text-info\"},[t._v(t._s(t.$t(\"captain\")))])]):a(\"span\",[a(\"span\",{staticClass:\"text-success\"},[t._v(t._s(t.$t(\"in_team\")))])])])])})],2)]):a(\"p\",{staticClass:\"text-white\"},[t._v(\"\\n                    \"+t._s(t.$t(\"no_players\"))+\"\\n                \")])])]),t._v(\" \"),a(\"pagination\",{attrs:{pagination:t.pagination}})],2)],1)},staticRenderFns:[]};e.a=n},\"6MiT\":function(t,e,a){var n=a(\"aCM0\"),i=a(\"UnEC\"),s=\"[object Symbol]\";t.exports=function(t){return\"symbol\"==typeof t||i(t)&&n(t)==s}},\"6PwW\":function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=u(a(\"Dd8w\")),i=a(\"NYxO\"),s=u(a(\"mtWM\")),r=u(a(\"I3G/\")),o=u(a(\"e7x4\")),c=u(a(\"O4Lo\"));function u(t){return t&&t.__esModule?t:{default:t}}e.default={metaInfo:function(){return{title:this.$t(\"players\")}},computed:(0,n.default)({},(0,i.mapGetters)({user:\"auth/user\",authenticated:\"auth/check\"})),mounted:function(){this.getVueItems();var t=this;r.default.nextTick(function(){$(\"#status_list\").select2({placeholder:t.$t(\"status\")}).on(\"change\",function(e){t.status_id=$(e.currentTarget).find(\"option:selected\").val()})})},data:function(){return{players:[],game_id:this.$route.query.game_id||\"\",country_id:this.$route.query.country_id||\"\",free_player:this.$route.query.free_player||\"\",pagination:[],status_id:null,nickname:\"\",choose_players:[],statuses:[{id:\"\",title:\"\"},{id:1,title:this.$t(\"free\")},{id:0,title:this.$t(\"in_team\")}]}},methods:{getVueItems:function(){var t=this,e={page:1,_limit:12,type:\"player\",site_id:2,_with:\"team,country,team.fights\",active:1,_sort:\"-id\"};0!=parseInt(this.status_id)&&1!=parseInt(this.status_id)||(e.free_player=this.status_id),this.nickname.length>2&&(e._q=this.nickname);var a=this.UrlParamsMerge(e);s.default.get(\"/api/users?\"+a).then(function(e){var a=e.data.data;a.forEach(function(t){var e=0,a=0;if(t.team_id>0&&t.team.fights.length>0){var n=t.team_id;t.team.fights.forEach(function(t){3==t.status&&(e++,t.winner_id==n&&a++)})}t.wins=a,t.fights_count=e}),t.$set(t,\"players\",a),delete e.data.data,t.pagination=e.data})},getGames:function(){var t=this;s.default.get(\"/api/games\").then(function(e){t.$set(t,\"games\",e.data),t.$parent.games=t.games})},getCountries:function(){var t=this;s.default.get(\"/api/countries\").then(function(e){t.$set(t,\"countries\",e.data)})},search:function(t){this.$router.push(this.$route.path+\"?\"+$(\"#filter-form\").serialize())},sendInvites:function(){var t=this;this.choose_players.forEach(function(e){t.invite(e)}),(0,o.default)({type:\"success\",title:this.$t(\"invitations_sent\")})},invite:function(t){s.default.put(\"/api/teams/\"+this.user.team_id+\"/users/\"+t).then(function(t){})},debouncedSearch:(0,c.default)(function(){this.getVueItems()},500)},watch:{\"$route.query\":function(t,e){this.getVueItems()},status_id:function(t,e){this.getVueItems()}}}},NkRn:function(t,e,a){var n=a(\"TQ3y\").Symbol;t.exports=n},O4Lo:function(t,e,a){var n=a(\"yCNF\"),i=a(\"RVHk\"),s=a(\"kxzG\"),r=\"Expected a function\",o=Math.max,c=Math.min;t.exports=function(t,e,a){var u,l,d,f,_,v,p=0,m=!1,h=!1,y=!0;if(\"function\"!=typeof t)throw new TypeError(r);function g(e){var a=u,n=l;return u=l=void 0,p=e,f=t.apply(n,a)}function x(t){var a=t-v;return void 0===v||a>=e||a<0||h&&t-p>=d}function b(){var t=i();if(x(t))return k(t);_=setTimeout(b,function(t){var a=e-(t-v);return h?c(a,d-(t-p)):a}(t))}function k(t){return _=void 0,y&&u?g(t):(u=l=void 0,f)}function C(){var t=i(),a=x(t);if(u=arguments,l=this,v=t,a){if(void 0===_)return function(t){return p=t,_=setTimeout(b,e),m?g(t):f}(v);if(h)return _=setTimeout(b,e),g(v)}return void 0===_&&(_=setTimeout(b,e)),f}return e=s(e)||0,n(a)&&(m=!!a.leading,d=(h=\"maxWait\"in a)?o(s(a.maxWait)||0,e):d,y=\"trailing\"in a?!!a.trailing:y),C.cancel=function(){void 0!==_&&clearTimeout(_),p=0,u=v=l=_=void 0},C.flush=function(){return void 0===_?f:k(i())},C}},RVHk:function(t,e,a){var n=a(\"TQ3y\");t.exports=function(){return n.Date.now()}},TQ3y:function(t,e,a){var n=a(\"blYT\"),i=\"object\"==typeof self&&self&&self.Object===Object&&self,s=n||i||Function(\"return this\")();t.exports=s},UnEC:function(t,e){t.exports=function(t){return null!=t&&\"object\"==typeof t}},aCM0:function(t,e,a){var n=a(\"NkRn\"),i=a(\"uLhX\"),s=a(\"+66z\"),r=\"[object Null]\",o=\"[object Undefined]\",c=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?o:r:c&&c in Object(t)?i(t):s(t)}},blYT:function(t,e,a){(function(e){var a=\"object\"==typeof e&&e&&e.Object===Object&&e;t.exports=a}).call(e,a(\"DuR2\"))},dB8k:function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=a(\"6PwW\"),i=a.n(n);for(var s in n)\"default\"!==s&&function(t){a.d(e,t,function(){return n[t]})}(s);var r=a(\"1a3F\"),o=a(\"VU/8\")(i.a,r.a,!1,null,null,null);e.default=o.exports},kxzG:function(t,e,a){var n=a(\"yCNF\"),i=a(\"6MiT\"),s=NaN,r=/^\\s+|\\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if(\"number\"==typeof t)return t;if(i(t))return s;if(n(t)){var e=\"function\"==typeof t.valueOf?t.valueOf():t;t=n(e)?e+\"\":e}if(\"string\"!=typeof t)return 0===t?t:+t;t=t.replace(r,\"\");var a=c.test(t);return a||u.test(t)?l(t.slice(2),a?2:8):o.test(t)?s:+t}},uLhX:function(t,e,a){var n=a(\"NkRn\"),i=Object.prototype,s=i.hasOwnProperty,r=i.toString,o=n?n.toStringTag:void 0;t.exports=function(t){var e=s.call(t,o),a=t[o];try{t[o]=void 0;var n=!0}catch(t){}var i=r.call(t);return n&&(e?t[o]=a:delete t[o]),i}},yCNF:function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&(\"object\"==e||\"function\"==e)}}});\n\n\n// WEBPACK FOOTER //\n// js/4.e2ec4a13b6c604319d88.js"],"mappings":"AAAA","sourceRoot":""}