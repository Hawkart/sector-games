webpackJsonp([6],{ARbV:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("card",{attrs:{title:e.$t("your_info")}},[a("div",{staticClass:"profile-cover-pic"},[a("vue-core-image-upload",{staticClass:"fileupload btn btn-default",attrs:{"crop-ratio":"1:1",crop:!1,headers:e.header,maxWidth:1e3,url:"/api/users/overlay"},on:{imageuploaded:e.overlayuploaded}},[a("i",{staticClass:"fa fa-camera"})]),e._v(" "),a("div",{staticClass:"profile-image-overlay",style:{"background-image":"url("+e.getImageLink(e.user.overlay,"overlay_user")+")"}})],1),e._v(" "),a("form",{on:{submit:function(t){t.preventDefault(),e.update(t)},keydown:function(t){e.form.onKeydown(t)}}},[a("alert-success",{attrs:{form:e.form,message:e.$t("info_updated")}}),e._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 col-form-label text-md-right"},[e._v(e._s(e.$t("name")))]),e._v(" "),a("div",{staticClass:"col-md-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("name")},attrs:{type:"text",name:"name"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),e._v(" "),a("has-error",{attrs:{form:e.form,field:"name"}})],1)]),e._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-3 col-form-label text-md-right"},[e._v(e._s(e.$t("email")))]),e._v(" "),a("div",{staticClass:"col-md-7"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"form-control",class:{"is-invalid":e.form.errors.has("email")},attrs:{type:"email",name:"email"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}),e._v(" "),a("has-error",{attrs:{form:e.form,field:"email"}})],1)]),e._v(" "),a("div",{staticClass:"form-group row"},[a("div",{staticClass:"col-md-9 ml-md-auto"},[a("v-button",{attrs:{loading:e.form.busy,type:"success"}},[e._v(e._s(e.$t("update")))])],1)])],1)])},staticRenderFns:[]}},Sgv7:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(a("Xxa5")),o=m(a("exGp")),s=m(a("yKuP")),i=a("NYxO"),l=m(a("lbHh")),n=m(a("ngqk"));function m(e){return e&&e.__esModule?e:{default:e}}t.default={scrollToTop:!1,metaInfo:function(){return{title:this.$t("settings")}},data:function(){return{form:new s.default({name:"",email:""}),header:{Authorization:"Bearer "+l.default.get("token")}}},computed:(0,i.mapGetters)({user:"auth/user"}),components:{"vue-core-image-upload":n.default},created:function(){var e=this;this.form.keys().forEach(function(t){e.form[t]=e.user[t]})},methods:{update:function(){var e=this;return(0,o.default)(r.default.mark(function t(){var a,o;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.form.patch("/api/settings/profile");case 2:a=t.sent,o=a.data,e.$store.dispatch("auth/updateUser",{user:o});case 5:case"end":return t.stop()}},t,e)}))()}}}},doo0:function(e,t,a){var r=a("VU/8")(a("Sgv7"),a("ARbV"),!1,null,null,null);e.exports=r.exports}});
//# sourceMappingURL=6.299fb15cb9e65668da2d.js.map