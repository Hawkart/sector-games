{"version":3,"file":"js/3.3565db4bf18ccdd3c1f8.js","sources":["webpack:///js/3.3565db4bf18ccdd3c1f8.js"],"sourcesContent":["webpackJsonp([3],{\"3SI7\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(\"ZZTC\"),a=r.n(n);for(var o in n)\"default\"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var s=r(\"C75w\"),i=r(\"VU/8\")(a.a,s.a,!1,null,null,null);t.default=i.exports},C75w:function(e,t,r){\"use strict\";var n={render:function(){var e=this.$createElement,t=this._self._c||e;return t(\"button\",{class:\"btn ml-5 nk-social-\"+this.ic,attrs:{type:\"button\"},on:{click:this.login}},[this._v(\"\\n    \"+this._s(this.text)+\"\\n    \"),t(\"fa\",{attrs:{icon:[\"fab\",this.ic]}})],1)},staticRenderFns:[]};t.a=n},HYhz:function(e,t,r){\"use strict\";var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"card\",{attrs:{title:e.$t(\"your_info\")}},[r(\"form\",{on:{submit:function(t){t.preventDefault(),e.update(t)},keydown:function(t){e.form.onKeydown(t)}}},[r(\"alert-success\",{attrs:{form:e.form,message:e.$t(\"info_updated\")}}),e._v(\" \"),r(\"div\",{staticClass:\"form-group row\"},[r(\"label\",{staticClass:\"col-md-3 col-form-label text-md-right\"},[e._v(e._s(e.$t(\"game\")))]),e._v(\" \"),r(\"div\",{staticClass:\"col-md-7\"},[r(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.form.game_id,expression:\"form.game_id\"}],staticClass:\"form-control\",attrs:{name:\"game_id\"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return\"_value\"in e?e._value:e.value});e.$set(e.form,\"game_id\",t.target.multiple?r:r[0])},e.selectGame]}},e._l(e.games,function(t){return r(\"option\",{domProps:{value:t.id}},[e._v(\"\\n                        \"+e._s(t.title)+\"\\n                    \")])})),e._v(\" \"),r(\"has-error\",{attrs:{form:e.form,field:\"game_id\"}})],1)]),e._v(\" \"),null!=e.form.game_id?r(\"div\",{staticClass:\"form-group row\"},[r(\"label\",{staticClass:\"col-md-3 col-form-label text-md-right\"},[e._v(e._s(e.$t(\"game_roles\")))]),e._v(\" \"),r(\"div\",{staticClass:\"col-md-7\",staticStyle:{\"padding-top\":\"8px\"}},[e._l(e.game_roles,function(t){return null!=e.game_roles&&e.game_roles.length>0?r(\"div\",{staticClass:\"form-check\"},[r(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.form.game_roles,expression:\"form.game_roles\"}],staticClass:\"form-check-input\",attrs:{type:\"checkbox\"},domProps:{value:t.id,checked:Array.isArray(e.form.game_roles)?e._i(e.form.game_roles,t.id)>-1:e.form.game_roles},on:{change:function(r){var n=e.form.game_roles,a=r.target,o=!!a.checked;if(Array.isArray(n)){var s=t.id,i=e._i(n,s);a.checked?i<0&&(e.form.game_roles=n.concat([s])):i>-1&&(e.form.game_roles=n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.form,\"game_roles\",o)}}}),e._v(\" \"),r(\"label\",{staticClass:\"form-check-label\"},[e._v(e._s(t.title))])]):e._e()}),e._v(\" \"),r(\"has-error\",{attrs:{form:e.form,field:\"game_roles\"}})],2)]):e._e(),e._v(\" \"),r(\"div\",{staticClass:\"form-group row\"},[r(\"label\",{staticClass:\"col-md-3 col-form-label text-md-right\"},[e._v(e._s(e.$t(\"nickname\")))]),e._v(\" \"),r(\"div\",{staticClass:\"col-md-7\"},[r(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.form.nickname,expression:\"form.nickname\"}],staticClass:\"form-control\",class:{\"is-invalid\":e.form.errors.has(\"nickname\")},attrs:{type:\"text\",name:\"nickname\"},domProps:{value:e.form.nickname},on:{input:function(t){t.target.composing||e.$set(e.form,\"nickname\",t.target.value)}}}),e._v(\" \"),r(\"has-error\",{attrs:{form:e.form,field:\"nickname\"}}),e._v(\" \"),r(\"login-with-social\",{attrs:{provider:\"steam\",ic:\"steam\",text:e.$t(\"connect_account\")}})],1)]),e._v(\" \"),r(\"div\",{staticClass:\"form-group row\"},[r(\"div\",{staticClass:\"col-md-9 ml-md-auto\"},[r(\"v-button\",{attrs:{loading:e.form.busy,type:\"success\"}},[e._v(e._s(e.$t(\"update\")))])],1)])],1)])},staticRenderFns:[]};t.a=n},QVM2:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=l(r(\"Xxa5\")),a=l(r(\"exGp\")),o=l(r(\"Dd8w\")),s=l(r(\"yKuP\")),i=l(r(\"mtWM\")),u=r(\"NYxO\"),c=l(r(\"3SI7\"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={metaInfo:function(){return{title:this.$t(\"team\")}},components:{LoginWithSocial:c.default},data:function(){return{form:new s.default({game_id:\"\",game_roles:\"\",nickname:\"\"}),games:null,game_roles:null}},computed:(0,o.default)({},(0,u.mapGetters)({user:\"auth/user\"}),{chars:function(){return this.$t(\"alphabet\").split(\",\")}}),created:function(){var e=this;this.form.keys().forEach(function(t){e.form[t]=e.user[t]})},mounted:function(){this.getGames(),null!=this.user.game_id&&this.getGameRoles(this.user.game_id)},methods:{getGames:function(){var e=this;return(0,a.default)(n.default.mark(function t(){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.default.get(\"/api/games\").then(function(t){e.$set(e,\"games\",t.data)});case 2:case\"end\":return t.stop()}},t,e)}))()},getGameRoles:function(e){var t=this;return(0,a.default)(n.default.mark(function r(){var a;return n.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=t.ArrayToUrl({game_id:e}),r.next=3,i.default.get(\"/api/game_roles?\"+a).then(function(e){t.$set(t,\"game_roles\",e.data)});case 3:case\"end\":return r.stop()}},r,t)}))()},update:function(){var e=this;return(0,a.default)(n.default.mark(function t(){var r,a;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.form.post(\"/api/users\");case 2:r=t.sent,a=r.data,e.$store.dispatch(\"auth/updateUser\",{user:a.data});case 5:case\"end\":return t.stop()}},t,e)}))()},selectGame:function(){var e=this;return(0,a.default)(n.default.mark(function t(){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getGameRoles(e.form.game_id);case 2:case\"end\":return t.stop()}},t,e)}))()}}}},ZZTC:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=u(r(\"fZjL\")),a=u(r(\"Dd8w\")),o=u(r(\"pFYg\")),s=u(r(\"Xxa5\")),i=u(r(\"exGp\"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};\"object\"===(void 0===e?\"undefined\":(0,o.default)(e))&&(r=e,e=\"\"),r=(0,a.default)({url:e,title:t,width:600,height:720},r);var s=void 0!==window.screenLeft?window.screenLeft:window.screen.left,i=void 0!==window.screenTop?window.screenTop:window.screen.top,u=window.innerWidth||document.documentElement.clientWidth||window.screen.width,c=window.innerHeight||document.documentElement.clientHeight||window.screen.height;r.left=u/2-r.width/2+s,r.top=c/2-r.height/2+i;var l=(0,n.default)(r).reduce(function(e,t){return e.push(t+\"=\"+r[t]),e},[]).join(\",\"),d=window.open(e,t,l);return window.focus&&d.focus(),d}t.default={name:\"LoginWithSocial\",props:{provider:{type:String,default:null},ic:{type:String,default:null},text:{type:String,default:null}},computed:{url:function(){return\"/api/social/\"+(void 0).provider}},mounted:function(){window.addEventListener(\"message\",this.onMessage,!1)},beforeDestroy:function(){window.removeEventListener(\"message\",this.onMessage)},methods:{login:function(){var e=this;return(0,i.default)(s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch(\"auth/fetchOauthUrl\",{provider:e.provider});case 2:c(t.sent,e.$t(\"login\"));case 4:case\"end\":return t.stop()}},t,e)}))()},onMessage:function(e){e.origin!==window.origin&&e.origin!==window.config.apiHost||!e.data.token||(this.$store.dispatch(\"auth/saveToken\",{token:e.data.token}),this.$router.push({name:\"home\"}))}}}},dqi5:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(\"QVM2\"),a=r.n(n);for(var o in n)\"default\"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var s=r(\"HYhz\"),i=r(\"VU/8\")(a.a,s.a,!1,null,null,null);t.default=i.exports}});\n\n\n// WEBPACK FOOTER //\n// js/3.3565db4bf18ccdd3c1f8.js"],"mappings":"AAAA","sourceRoot":""}