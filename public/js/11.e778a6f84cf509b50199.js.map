{"version":3,"file":"js/11.e778a6f84cf509b50199.js","sources":["webpack:///js/11.e778a6f84cf509b50199.js"],"sourcesContent":["webpackJsonp([11],{Us9s:function(t,e,a){\"use strict\";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[null!=t.tournament?a(\"card\",{attrs:{title:t.tournament.title}},[a(\"div\",{staticClass:\"nk-tabs\"},[a(\"ul\",{staticClass:\"nav nav-tabs\",attrs:{role:\"tablist\"}},[a(\"li\",{staticClass:\"nav-item\"},[a(\"a\",{staticClass:\"nav-link active\",attrs:{href:\"#tabs-1-1\",role:\"tab\",\"data-toggle\":\"tab\"}},[t._v(\"Инфо\")])]),t._v(\" \"),a(\"li\",{staticClass:\"nav-item\"},[a(\"a\",{staticClass:\"nav-link\",attrs:{href:\"#tabs-1-2\",role:\"tab\",\"data-toggle\":\"tab\"}},[t._v(\"Команды\")])]),t._v(\" \"),a(\"li\",{staticClass:\"nav-item\"},[a(\"a\",{staticClass:\"nav-link\",attrs:{href:\"#tabs-1-3\",role:\"tab\",\"data-toggle\":\"tab\"}},[t._v(\"Сетка\")])]),t._v(\" \"),a(\"li\",{staticClass:\"nav-item\"},[a(\"a\",{staticClass:\"nav-link\",attrs:{href:\"#tabs-1-3\",role:\"tab\",\"data-toggle\":\"tab\"}},[t._v(\"Призы\")])])]),t._v(\" \"),a(\"div\",{staticClass:\"tab-content\"},[a(\"div\",{staticClass:\"tab-pane fade show active\",attrs:{role:\"tabpanel\",id:\"tabs-1-1\"}},[a(\"div\",{staticClass:\"nk-gap\"}),t._v(\" \"),a(\"div\",{staticClass:\"nk-gap\"})]),t._v(\" \"),a(\"div\",{staticClass:\"tab-pane fade\",attrs:{role:\"tabpanel\",id:\"tabs-1-2\"}},[a(\"div\",{staticClass:\"nk-gap\"}),t._v(\" \"),null!=t.tournament&&null!==t.tournament.teams&&t.tournament.teams.length>0?a(\"table\",{staticClass:\"nk-table\"},[a(\"tbody\",[a(\"tr\",[a(\"th\",[t._v(t._s(t.$t(\"title\")))]),t._v(\" \"),a(\"th\",[t._v(t._s(t.$t(\"region\")))]),t._v(\" \"),a(\"th\",[t._v(t._s(t.$t(\"players\")))]),t._v(\" \"),a(\"th\",[t._v(t._s(t.$t(\"game\")))]),t._v(\" \"),a(\"th\",[t._v(t._s(t.$t(\"count_matches\")))]),t._v(\" \"),a(\"th\",[t._v(t._s(t.$t(\"count_wins\")))]),t._v(\" \"),a(\"th\",[t._v(t._s(t.$t(\"victory_rate\")))])]),t._v(\" \"),t._l(t.tournament.teams,function(e){return a(\"tr\",[a(\"td\",[a(\"router-link\",{staticClass:\"vm-title\",attrs:{to:{name:\"team\",params:{id:e.id}}}},[a(\"img\",{staticClass:\"w-50px mr-10\",attrs:{src:t.getImageLink(e.image,\"avatar_team\"),alt:e.title}}),t._v(\" \"),a(\"span\",[t._v(t._s(e.title))])])],1),t._v(\" \"),a(\"td\",[e.institution_id>0?[t._v(\"\\n                                    \"+t._s(e.institution.location.parent.title)+\",\\n                                    \"+t._s(e.institution.location.title)+\"\\n                                \")]:t._e()],2),t._v(\" \"),a(\"td\",{staticClass:\"text-center\"},[a(\"router-link\",{attrs:{to:{name:\"team.detail.players\",params:{slug:e.slug}}}},[t._v(t._s(e.users.length))]),t._v(\" / \"+t._s(e.quantity))],1),t._v(\" \"),null!==e.game?a(\"td\",{staticClass:\"text-center\"},[a(\"router-link\",{attrs:{to:{name:\"game\",params:{gameId:e.game.id}},title:e.game.title}},[a(\"img\",{attrs:{src:t.getImageLink(e.game.logo_mini),width:\"35\",alt:e.game.title}})])],1):a(\"td\",{staticClass:\"text-center\"}),t._v(\" \"),a(\"td\",{staticClass:\"text-center\"},[t._v(t._s(e.count_fights))]),t._v(\" \"),a(\"td\",{staticClass:\"text-center\"},[t._v(t._s(e.count_wins))]),t._v(\" \"),e.count_fights>0?a(\"td\",{staticClass:\"text-center\"},[t._v(t._s(Number((e.count_wins/e.count_fights*100).toFixed(2)))+\"%\")]):a(\"td\",{staticClass:\"text-center\"},[t._v(\"0%\")])])})],2)]):t._e(),t._v(\" \"),a(\"pagination\",{attrs:{pagination:t.pagination}}),t._v(\" \"),a(\"div\",{staticClass:\"nk-gap\"})],1),t._v(\" \"),a(\"div\",{staticClass:\"tab-pane fade\",attrs:{role:\"tabpanel\",id:\"tabs-1-3\"}},[a(\"div\",{staticClass:\"nk-gap\"}),t._v(\" \"),a(\"p\",[t._v(\"I have related the substance of several conversations I had with my master during the greatest part of the time I had the, for brevity sake, omitted much moredown.\")]),t._v(\" \"),a(\"div\",{staticClass:\"nk-gap\"})])])])]):t._e()],1)},staticRenderFns:[]};e.a=n},m5O0:function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=a(\"nxqK\"),s=a.n(n);for(var r in n)\"default\"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);var i=a(\"Us9s\"),u=a(\"VU/8\")(s.a,i.a,!1,null,null,null);e.default=u.exports},nxqK:function(t,e,a){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var n=l(a(\"Xxa5\")),s=l(a(\"exGp\")),r=l(a(\"Dd8w\")),i=a(\"NYxO\"),u=l(a(\"mtWM\")),o=l(a(\"e7x4\"));function l(t){return t&&t.__esModule?t:{default:t}}e.default={metaInfo:function(){return{title:this.title}},computed:(0,r.default)({},(0,i.mapGetters)({user:\"auth/user\",authenticated:\"auth/check\",locale:\"lang/locale\"}),{teamsInTournament:function(){var t=[];return void 0!=this.tournament.teams&&this.tournament.teams.length>0&&this.tournament.teams.forEach(function(e){t.push(e.id)}),t}}),mounted:function(){this.getTournament()},data:function(){return{title:\"Detail tournament\",tournament:null,success:!1,error:!1,response:null,tabs:[{name:\"Overview\",route:\"tournament.detail\"},{name:\"Brackets\",route:\"tournament.detail.brackets\"},{name:\"Rules\",route:\"tournament.detail.rules\"}]}},methods:{getTournament:function(){var t=this;return(0,s.default)(n.default.mark(function e(){var a,s,r,i,o;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.ArrayToUrl({_with:\"game,fights,fights.invitations.team,fights.winner\"}),e.prev=1,e.next=4,u.default.get(\"/api/tournaments/\"+t.$route.params.id+\"?\"+a);case 4:s=e.sent,t.$set(t,\"tournament\",s.data),t.tournament.start_at=t.dateConvertUTC(t.tournament.start_at,-1),t.tournament.register_start=t.dateConvertUTC(t.tournament.register_start,-1),r=t.tournament.winners_part.split(\",\"),i=parseInt(t.tournament.prize_pool),o=[],r.forEach(function(t){o.push(parseInt(t)*i/100)}),t.tournament.prizes=o,t.title=t.tournament.title,t.$meta().refresh(),t.getTournamentTeams(),t.getTournamentBrackets(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),t.errors.push(e.t0);case 22:case\"end\":return e.stop()}},e,t,[[1,19]])}))()},getTournamentTeams:function(){var t=this;return(0,s.default)(n.default.mark(function e(){var a;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.default.get(\"/api/tournaments/\"+t.$route.params.id+\"/teams\");case 3:a=e.sent,t.$set(t.tournament,\"teams\",a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.errors.push(e.t0);case 10:case\"end\":return e.stop()}},e,t,[[0,7]])}))()},getTournamentBrackets:function(){var t=this;return(0,s.default)(n.default.mark(function e(){var a;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.default.get(\"/api/tournaments/\"+t.$route.params.id+\"/brackets\");case 3:a=e.sent,t.$set(t.tournament,\"brackets\",a.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t.errors.push(e.t0);case 10:case\"end\":return e.stop()}},e,t,[[0,7]])}))()},register:function(){var t=this;this.authenticated?null!=this.user.team_id?u.default.post(\"/api/tournaments/\"+this.$route.params.id+\"/teams/\"+this.user.team_id).then(function(e){(0,o.default)({type:\"success\",title:\"Success!\",html:\"You are registered on the tournament!\"}),t.getTournamentTeams()}).catch(function(t){(0,o.default)({type:\"warning\",title:\"Error!\",html:t.response.data.error})}):(0,o.default)({type:\"warning\",title:\"Error!\",html:\"You need to be in the team.\"}):this.$router.push({name:\"auth.login\"})},checkRigisterStart:function(){return this.moment.utc().isAfter(this.tournament.register_start)},checkRigisterEnd:function(){return this.moment.utc().isBefore(this.moment(this.tournament.start_at).subtract(1,\"hours\"))},checkRegistered:function(t){return this.teamsInTournament.indexOf(t)>-1}}}}});\n\n\n// WEBPACK FOOTER //\n// js/11.e778a6f84cf509b50199.js"],"mappings":"AAAA","sourceRoot":""}