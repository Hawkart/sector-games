{"version":3,"file":"js/11.29c5b1dbe5d48e1119df.js","sources":["webpack:///js/11.29c5b1dbe5d48e1119df.js"],"sourcesContent":["webpackJsonp([11],{\"1rvA\":function(t,a,s){\"use strict\";Object.defineProperty(a,\"__esModule\",{value:!0});var e=u(s(\"Dd8w\")),i=s(\"NYxO\"),n=u(s(\"mtWM\")),r=s(\"HNcv\"),l=u(s(\"I3G/\")),c=u(s(\"e7x4\"));function u(t){return t&&t.__esModule?t:{default:t}}a.default={metaInfo:function(){return{title:this.$t(\"tournaments\")}},data:function(){return{tournaments:[],pagination:[],status_list:[{id:0,title:\"Все\"},{id:1,title:\"Прошедшие\"},{id:2,title:\"Онлайн\"},{id:3,title:\"Предстоящие\"}],status_id:null}},computed:(0,e.default)({},(0,i.mapGetters)({user:\"auth/user\",authenticated:\"auth/check\",locale:\"lang/locale\"})),mounted:function(){this.getTournaments(),(0,r.loadMessages)(this.locale),this.moment.locale(this.locale);var t=this;l.default.nextTick(function(){$(\"#status_list\").select2({placeholder:\"Статус турнира\"}).on(\"change\",function(a){t.status_id=$(a.currentTarget).find(\"option:selected\").val()})})},methods:{getTournaments:function(){var t=this,a=(new Date,{page:1,_limit:12,_sort:\"start_at\",_with:\"teams,game\"});1==this.status_id?a[\"end_at-not\"]=null:2==this.status_id?(a[\"start_at-st\"]=this.moment.utc().format(),a.end_at=null):3==this.status_id&&(a[\"start_at-gt\"]=this.moment.utc().format());var s=this.UrlParamsMerge(a);n.default.get(\"/api/tournaments?\"+s).then(function(a){var s=a.data.data,e=t;s.length>0&&s.forEach(function(t){t.start_at=e.dateConvertUTC(t.start_at,-1)}),t.$set(t,\"tournaments\",s),delete a.data.data,t.pagination=a.data})},checkRegisterStart:function(t){return this.moment.utc().isAfter(t)},checkRegisterEnd:function(t){return this.moment.utc().isBefore(this.moment(t).subtract(1,\"hours\"))},register:function(){var t=this;this.authenticated?null!=this.user.team_id?n.default.post(\"/api/tournaments/\"+this.$route.params.id+\"/teams/\"+this.user.team_id).then(function(a){(0,c.default)({type:\"success\",title:\"Success!\",html:\"You are registered on the tournament!\"}),t.getTournamentTeams()}).catch(function(t){(0,c.default)({type:\"warning\",title:\"Error!\",html:t.response.data.error})}):(0,c.default)({type:\"warning\",title:\"Error!\",html:\"You need to be in the team.\"}):this.$router.push({name:\"login\"})}},watch:{\"$route.query\":function(t,a){this.getTournaments()},status_id:function(t,a){this.getTournaments()}}}},ajbh:function(t,a,s){\"use strict\";var e={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s(\"div\",[s(\"card\",{attrs:{title:t.$t(\"tournaments\")}},[[s(\"div\",{staticClass:\"row\"},[s(\"div\",{staticClass:\"col-md-12\"},[s(\"card\",[s(\"div\",{staticClass:\"form-wrap\"},[s(\"form\",{attrs:{autocomplete:\"off\",id:\"filter-form\"}},[s(\"div\",{staticClass:\"row\"},[s(\"div\",{staticClass:\"col-md-3\"},[s(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.status_id,expression:\"status_id\"}],staticClass:\"form-control\",attrs:{name:\"status_id\",\"data-style\":\"form-control btn-default btn-outline\",id:\"status_list\"},on:{change:function(a){var s=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){return\"_value\"in t?t._value:t.value});t.status_id=a.target.multiple?s:s[0]}}},t._l(t.status_list,function(a){return s(\"option\",{domProps:{value:a.id}},[t._v(\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\"+t._s(a.title)+\"\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t\")])}))])])])])])],1)]),t._v(\" \"),s(\"div\",{staticClass:\"nk-gap-2\"})],t._v(\" \"),null!=t.tournaments&&t.tournaments.length>0?s(\"table\",{staticClass:\"nk-table\"},[s(\"tbody\",[s(\"tr\",[s(\"th\",[t._v(t._s(t.$t(\"title\")))]),t._v(\" \"),s(\"th\",[t._v(t._s(t.$t(\"game\")))]),t._v(\" \"),s(\"th\",[t._v(t._s(t.$t(\"tournament_start_time\")))]),t._v(\" \"),s(\"th\",[t._v(t._s(t.$t(\"tournament_register_start_time\")))]),t._v(\" \"),s(\"th\",[t._v(t._s(t.$t(\"teams\")))]),t._v(\" \"),s(\"th\",[t._v(\" \")])]),t._v(\" \"),t._l(t.tournaments,function(a){return s(\"tr\",[s(\"td\",[s(\"router-link\",{staticClass:\"vm-title\",attrs:{to:{name:\"tournament\",params:{id:a.id}}}},[null!=a.image?s(\"img\",{staticClass:\"w-50px mr-10\",attrs:{src:t.getImageLink(a.image,\"avatar_team\"),alt:a.title}}):s(\"i\",{staticClass:\"ti-cup mr-20\"}),t._v(\" \"),s(\"span\",[t._v(t._s(a.title))])])],1),t._v(\" \"),s(\"td\",{staticClass:\"text-center\"},[s(\"router-link\",{attrs:{to:{name:\"game\",params:{gameId:a.game.id}},title:a.game.title}},[s(\"img\",{attrs:{src:t.getImageLink(a.game.logo_mini),width:\"35\",alt:a.game.title}})])],1),t._v(\" \"),s(\"td\",{staticClass:\"text-center\"},[t._v(t._s(t.moment(a.start_at,\"YYYY-MM-DD h:mm:ss\").format(\"D MMM, HH:mm\"))+\" МСК\")]),t._v(\" \"),s(\"td\",{staticClass:\"text-center\"},[t._v(t._s(t.moment(a.register_start,\"YYYY-MM-DD h:mm:ss\").format(\"D MMM, HH:mm\"))+\" МСК\")]),t._v(\" \"),s(\"td\",{staticClass:\"text-center\"},[t._v(t._s(a.teams.length)+\" / 175\")]),t._v(\" \"),s(\"td\",[s(\"div\",{staticClass:\"input-group mt-5\"},[t.checkRegisterStart(a.register_start)&&t.checkRegisterEnd(a.register_start)?s(\"button\",{staticClass:\"btn btn-primary btn-xs\",on:{click:t.register}},[t._v(\"Зарегистрироваться\")]):t.checkRegisterEnd(a.register_start)?t._e():s(\"button\",{staticClass:\"btn btn-defualt btn-xs\",attrs:{disabled:\"\"}},[t._v(\"Регистрация завершена\")])])])])}),t._v(\" \"),s(\"tr\",[s(\"td\",[s(\"a\",{staticClass:\"vm-title\",attrs:{href:\"#\"}},[s(\"img\",{staticClass:\"w-50px mr-10\",attrs:{src:\"/images/ava_32.png\"}}),t._v(\" \"),s(\"span\",[t._v(\"CS:GO\")])])]),t._v(\" \"),s(\"td\",{staticClass:\"text-center\"},[s(\"img\",{attrs:{src:\"/images/CS_GO1.png\",width:\"35\"}})]),t._v(\" \"),s(\"td\",{staticClass:\"text-center\"},[t._v(\"23 фев. 2019 г., МСК\")]),t._v(\" \"),s(\"td\",{staticClass:\"text-center\"},[t._v(\"17 фев. 2019 г., МСК\")]),t._v(\" \"),s(\"td\",{staticClass:\"text-center\"},[t._v(\"-\")]),t._v(\" \"),s(\"td\",[s(\"div\",{staticClass:\"input-group mt-5\"},[s(\"button\",{staticClass:\"btn btn-defualt btn-xs text-info\",attrs:{disabled:\"\"}},[t._v(\"Регистрация ожидается\")])])])]),t._v(\" \"),s(\"tr\",[s(\"td\",[s(\"a\",{staticClass:\"vm-title\",attrs:{href:\"#\"}},[s(\"img\",{staticClass:\"w-50px mr-10\",attrs:{src:\"/images/ava_32.png\"}}),t._v(\" \"),s(\"span\",[t._v(\"LOL\")])])]),t._v(\" \"),s(\"td\",{staticClass:\"text-center\"},[s(\"img\",{attrs:{src:\"/images/lol.jpg\",width:\"35\"}})]),t._v(\" \"),s(\"td\",{staticClass:\"text-center\"},[t._v(\"13 апр. 2019 г., МСК\")]),t._v(\" \"),s(\"td\",{staticClass:\"text-center\"},[t._v(\"7 апр. 2019 г., МСК\")]),t._v(\" \"),s(\"td\",{staticClass:\"text-center\"},[t._v(\"-\")]),t._v(\" \"),s(\"td\",[s(\"div\",{staticClass:\"input-group mt-5\"},[s(\"button\",{staticClass:\"btn btn-defualt btn-xs text-info\",attrs:{disabled:\"\"}},[t._v(\"Регистрация ожидается\")])])])]),t._v(\" \"),s(\"tr\",[s(\"td\",[s(\"a\",{staticClass:\"vm-title\",attrs:{href:\"#\"}},[s(\"img\",{staticClass:\"w-50px mr-10\",attrs:{src:\"/images/ava_32.png\"}}),t._v(\" \"),s(\"span\",[t._v(\"DOTA2\")])])]),t._v(\" \"),s(\"td\",{staticClass:\"text-center\"},[s(\"img\",{attrs:{src:\"/storage/games/February2018/6MmyFNiGM8h9igLGkgru.png\",width:\"35\"}})]),t._v(\" \"),s(\"td\",{staticClass:\"text-center\"},[t._v(\"11 мая 2019 г., МСК\")]),t._v(\" \"),s(\"td\",{staticClass:\"text-center\"},[t._v(\"5 мая 2019 г., МСК\")]),t._v(\" \"),s(\"td\",{staticClass:\"text-center\"},[t._v(\"-\")]),t._v(\" \"),s(\"td\",[s(\"div\",{staticClass:\"input-group mt-5\"},[s(\"button\",{staticClass:\"btn btn-defualt btn-xs text-info\",attrs:{disabled:\"\"}},[t._v(\"Регистрация ожидается\")])])])])],2)]):s(\"p\",{staticClass:\"text-white\"},[t._v(\"\\n\\t\\t\\t\\t\"+t._s(t.$t(\"no_tournaments\"))+\"\\n\\t\\t\\t\")]),t._v(\" \"),s(\"pagination\",{attrs:{pagination:t.pagination}})],2)],1)},staticRenderFns:[]};a.a=e},dAyu:function(t,a,s){\"use strict\";Object.defineProperty(a,\"__esModule\",{value:!0});var e=s(\"1rvA\"),i=s.n(e);for(var n in e)\"default\"!==n&&function(t){s.d(a,t,function(){return e[t]})}(n);var r=s(\"ajbh\"),l=s(\"VU/8\")(i.a,r.a,!1,null,null,null);a.default=l.exports}});\n\n\n// WEBPACK FOOTER //\n// js/11.29c5b1dbe5d48e1119df.js"],"mappings":"AAAA","sourceRoot":""}