webpackJsonp([21],{"Aa2/":function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=o(s("Dd8w")),e=s("NYxO"),r=o(s("mtWM")),n=(o(s("e7x4")),s("HNcv"));function o(t){return t&&t.__esModule?t:{default:t}}a.default={metaInfo:function(){return{title:this.$t("players")}},computed:(0,i.default)({},(0,e.mapGetters)({user:"auth/user",authenticated:"auth/check",locale:"lang/locale"})),data:function(){return{fight:[],form:new Form({match_extern_id:"",twitch_link:""})}},mounted:function(){(0,n.loadMessages)(this.locale),this.moment.locale(this.locale),this.getFight()},methods:{getFight:function(){var t=this,a=this.ArrayToUrl({_with:"invitations.team,invitations.team.users,winner,judge,commentator"});r.default.get("/api/fights/"+this.$route.params.id+"?"+a).then(function(a){var s=a.data;s.start_at=t.dateConvertUTC(s.start_at,-1),t.$set(t,"fight",s)})},checkUpcoming:function(t){var a=new Date(t),s=new Date;return a.getTime()-s.getTime()>0},matchExSave:function(t){t.preventDefault(),r.default.put("/api/fights/"+this.fight.id+"/teams/"+this.user.team_id,{extern_match_id:this.form.extern_match_id,twitch_link:this.form.twitch_link}).then(function(t){})}},watch:{"$route.query":function(t,a){this.getFights()}}}},oBbL:function(t,a,s){"use strict";var i={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return null!=t.fight?s("card",[s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[s("div",{staticClass:"nk-match"},[s("div",{staticClass:"nk-match-team-left"},[s("router-link",{attrs:{to:{name:"team",params:{id:t.fight.invitations[0].team.id}}}},[s("span",{staticClass:"nk-match-team-logo"},[s("img",{staticClass:"w-50px mr-10",attrs:{src:t.getImageLink(t.fight.invitations[0].team.image,"avatar_team")}})]),t._v(" "),s("span",{staticClass:"nk-match-team-name"},[t._v("\n                            "+t._s(t.fight.invitations[0].team.title)+"\n                        ")])])],1),t._v(" "),s("div",{staticClass:"nk-match-status"},[s("router-link",{attrs:{to:{name:"match",params:{id:t.fight.id}}}},[s("span",{staticClass:"nk-match-status-vs"},[t._v("VS")]),t._v(" "),s("span",{staticClass:"nk-match-status-date"},[t._v(t._s(t.moment(t.fight.start_at,"YYYY-MM-DD h:mm:ss").format("MMMM Do, HH:mm")))]),t._v(" "),s("span",{staticClass:"nk-match-score"},[t.checkUpcoming(t.fight.start_at)?[t._v(t._s(t.$t("upcoming")))]:t.fight.winner_id>0?[t._v(t._s(t.fight.winner.title))]:[t._v(t._s(t.$t("online")))]],2)])],1),t._v(" "),s("div",{staticClass:"nk-match-team-right"},[s("router-link",{attrs:{to:{name:"team",params:{id:t.fight.invitations[1].team.id}}}},[s("span",{staticClass:"nk-match-team-name"},[t._v("\n                            "+t._s(t.fight.invitations[1].team.title)+"\n                        ")]),t._v(" "),s("span",{staticClass:"nk-match-team-logo"},[s("img",{staticClass:"w-50px ml-10",attrs:{src:t.getImageLink(t.fight.invitations[1].team.image,"avatar_team")}})])])],1)])])]),t._v(" "),!t.authenticated||2==t.fight.status||3==t.fight.status||t.fight.invitations[0].team.capt_id!=t.user.id&&t.fight.invitations[1].team.capt_id!=t.user.id?t._e():s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6 col-md-6 col-sm-6 col-xs-6"},[s("form",{on:{submit:function(a){a.preventDefault(),t.login(a)},keydown:function(a){t.form.onKeydown(a)}}},[s("alert-error",{attrs:{form:t.form}}),t._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-3 col-form-label text-md-right"},[t._v(t._s(t.$t("match_extern_id")))]),t._v(" "),s("div",{staticClass:"col-md-7"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.match_extern_id,expression:"form.match_extern_id"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("match_extern_id")},attrs:{type:"text",name:"match_extern_id"},domProps:{value:t.form.match_extern_id},on:{input:function(a){a.target.composing||t.$set(t.form,"match_extern_id",a.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.form,field:"match_extern_id"}})],1)]),t._v(" "),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-md-3 col-form-label text-md-right"},[t._v(t._s(t.$t("password")))]),t._v(" "),s("div",{staticClass:"col-md-7"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control",class:{"is-invalid":t.form.errors.has("password")},attrs:{type:"password",name:"password"},domProps:{value:t.form.password},on:{input:function(a){a.target.composing||t.$set(t.form,"password",a.target.value)}}}),t._v(" "),s("has-error",{attrs:{form:t.form,field:"password"}})],1)]),t._v(" "),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-md-7 offset-md-3 d-flex"},[s("v-button",{attrs:{loading:t.form.busy}},[t._v("\n                            "+t._s(t.$t("save"))+"\n                        ")])],1)])],1),t._v(" "),!t.authenticated||2==t.fight.status||3==t.fight.status||t.fight.invitations[0].team.capt_id!=t.user.id&&t.fight.invitations[1].team.capt_id!=t.user.id?t._e():s("form",{attrs:{autocomplete:"off"},on:{submit:t.matchExSave}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"extern_match_id"}},[t._v("Fill extern match ID in Steam")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.extern_match_id,expression:"extern_match_id"}],staticClass:"form-control",attrs:{type:"text",id:"extern_match_id",required:""},domProps:{value:t.extern_match_id},on:{input:function(a){a.target.composing||(t.extern_match_id=a.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-group row"},[s("div",{staticClass:"col-xs-6 col-sm-6"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Save")])])])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-6 col-md-6 col-sm-6 col-xs-6"},[null!=t.fight.invitations[0].steam_link?s("iframe",{attrs:{src:"http://player.twitch.tv/?channel="+t.fight.invitations[0].steam_link+"&autoplay=false",height:"360",width:"640",frameborder:"0",scrolling:"no",allowfullscreen:"true"}}):t._e()]),t._v(" "),s("div",{staticClass:"col-lg-6 col-md-6 col-sm-6 col-xs-6"},[null!=t.fight.invitations[1].steam_link?s("iframe",{attrs:{src:"http://player.twitch.tv/?channel="+t.fight.invitations[1].steam_link+"&autoplay=false",height:"360",width:"640",frameborder:"0",scrolling:"no",allowfullscreen:"true"}}):t._e()])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[null!=t.fight.judge?[s("label",[t._v(t._s(t.$t("judge")))]),t._v(": "+t._s(t.fight.judge.name)),s("br"),t._v(" "),s("div",{domProps:{innerHTML:t._s(t.fight.judge.description)}})]:t._e(),t._v(" "),null!=t.fight.commentator?[s("label",[t._v(t._s(t.$t("commentator")))]),t._v(": "+t._s(t.fight.commentator.name)),s("br"),t._v(" "),s("div",{domProps:{innerHTML:t._s(t.fight.commentator.description)}})]:t._e()],2)])]):t._e()},staticRenderFns:[]};a.a=i},upqO:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=s("Aa2/"),e=s.n(i);for(var r in i)"default"!==r&&function(t){s.d(a,t,function(){return i[t]})}(r);var n=s("oBbL"),o=s("VU/8")(e.a,n.a,!1,null,null,null);a.default=o.exports}});
//# sourceMappingURL=21.148b8a7e080238847cca.js.map