{"version":3,"file":"js/7.fb46481454619614673e.js","sources":["webpack:///js/7.fb46481454619614673e.js"],"sourcesContent":["webpackJsonp([7],{J5fx:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"card\",{attrs:{title:e.$t(\"your_info\")}},[r(\"form\",{on:{submit:function(t){t.preventDefault(),e.update(t)},keydown:function(t){e.form.onKeydown(t)}}},[r(\"alert-success\",{attrs:{form:e.form,message:e.$t(\"info_updated\")}}),e._v(\" \"),r(\"div\",{staticClass:\"form-group row\"},[r(\"label\",{staticClass:\"col-md-3 col-form-label text-md-right\"},[e._v(e._s(e.$t(\"game\")))]),e._v(\" \"),r(\"div\",{staticClass:\"col-md-7\"},[r(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.form.game_id,expression:\"form.game_id\"}],staticClass:\"form-control\",attrs:{name:\"game_id\"},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return\"_value\"in e?e._value:e.value});e.$set(e.form,\"game_id\",t.target.multiple?r:r[0])},e.selectGame]}},e._l(e.games,function(t){return r(\"option\",{domProps:{value:t.id}},[e._v(\"\\n                        \"+e._s(t.title)+\"\\n                    \")])})),e._v(\" \"),r(\"has-error\",{attrs:{form:e.form,field:\"game_id\"}})],1)]),e._v(\" \"),null!=e.game_id?r(\"div\",{staticClass:\"form-group row\"},[r(\"label\",{staticClass:\"col-md-3 col-form-label text-md-right\"},[e._v(e._s(e.$t(\"game\")))]),e._v(\" \"),r(\"div\",{staticClass:\"col-md-7\"},e._l(e.game_roles,function(t){return null!=e.game_roles&&e.game_roles.length>0?r(\"div\",[r(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.form.game_roles,expression:\"form.game_roles\"}],attrs:{type:\"checkbox\"},domProps:{value:t.id,checked:Array.isArray(e.form.game_roles)?e._i(e.form.game_roles,t.id)>-1:e.form.game_roles},on:{change:function(r){var a=e.form.game_roles,s=r.target,o=!!s.checked;if(Array.isArray(a)){var n=t.id,l=e._i(a,n);s.checked?l<0&&(e.form.game_roles=a.concat([n])):l>-1&&(e.form.game_roles=a.slice(0,l).concat(a.slice(l+1)))}else e.$set(e.form,\"game_roles\",o)}}}),e._v(\" \"),r(\"label\",[e._v(e._s(t.title))])]):e._e()}))]):e._e(),e._v(\" \"),null!=e.game?r(\"div\",{staticClass:\"form-group\",class:{\"has-error\":e.error&&e.response.game_roles}},[r(\"label\",{staticClass:\"control-label mb-10\"},[e._v(\"Choose your roles in \"),null!=e.game?r(\"span\",[e._v(e._s(e.game.title))]):e._e()]),e._v(\" \"),e._l(e.game_roles,function(t){return null!=e.game_roles&&e.game_roles.length>0?r(\"div\",[r(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.user_game_roles,expression:\"user_game_roles\"}],attrs:{type:\"checkbox\"},domProps:{value:t.id,checked:Array.isArray(e.user_game_roles)?e._i(e.user_game_roles,t.id)>-1:e.user_game_roles},on:{change:function(r){var a=e.user_game_roles,s=r.target,o=!!s.checked;if(Array.isArray(a)){var n=t.id,l=e._i(a,n);s.checked?l<0&&(e.user_game_roles=a.concat([n])):l>-1&&(e.user_game_roles=a.slice(0,l).concat(a.slice(l+1)))}else e.user_game_roles=o}}}),e._v(\" \"),r(\"label\",[e._v(e._s(t.title))])]):e._e()}),e._v(\" \"),e.error&&e.response.game_roles?r(\"span\",{staticClass:\"help-block\"},[e._v(e._s(e.response.game_roles[0]))]):e._e()],2):e._e(),e._v(\" \"),r(\"div\",{staticClass:\"form-group row\"},[r(\"label\",{staticClass:\"col-md-3 col-form-label text-md-right\"},[e._v(e._s(e.$t(\"nickname\")))]),e._v(\" \"),r(\"div\",{staticClass:\"col-md-7\"},[r(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.form.nickname,expression:\"form.nickname\"}],staticClass:\"form-control\",class:{\"is-invalid\":e.form.errors.has(\"nickname\")},attrs:{type:\"text\",name:\"nickname\"},domProps:{value:e.form.nickname},on:{input:function(t){t.target.composing||e.$set(e.form,\"nickname\",t.target.value)}}}),e._v(\" \"),r(\"has-error\",{attrs:{form:e.form,field:\"nickname\"}})],1)]),e._v(\" \"),r(\"div\",{staticClass:\"form-group row\"},[r(\"div\",{staticClass:\"col-md-9 ml-md-auto\"},[r(\"v-button\",{attrs:{loading:e.form.busy,type:\"success\"}},[e._v(e._s(e.$t(\"update\")))])],1)])],1)])},staticRenderFns:[]}},QVM2:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var a=m(r(\"Xxa5\")),s=m(r(\"exGp\")),o=m(r(\"Dd8w\")),n=m(r(\"yKuP\")),l=m(r(\"mtWM\")),i=r(\"NYxO\");function m(e){return e&&e.__esModule?e:{default:e}}t.default={metaInfo:function(){return{title:this.$t(\"school\")}},data:function(){return{form:new n.default({game_id:\"\",game_roles:\"\"}),games:null,game_roles:null}},computed:(0,o.default)({},(0,i.mapGetters)({user:\"auth/user\"}),{chars:function(){return this.$t(\"alphabet\").split(\",\")}}),created:function(){var e=this;this.form.keys().forEach(function(t){e.form[t]=e.user[t]})},mounted:function(){this.getGames(),null!=this.user.game_id&&this.getGameRoles(this.user.game_id),this.getCountries()},methods:{getGames:function(){var e=this;return(0,s.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.default.get(\"/api/games\").then(function(t){e.$set(e,\"games\",t.data)});case 2:case\"end\":return t.stop()}},t,e)}))()},getGameRoles:function(e){var t=this;return(0,s.default)(a.default.mark(function r(){var s;return a.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return s=t.ArrayToUrl({game_id:e,_limit:0}),r.next=3,l.default.get(\"/api/game_roles/?\"+s).then(function(e){t.$set(t,\"game_roles\",e.data)});case 3:case\"end\":return r.stop()}},r,t)}))()},update:function(){var e=this;return(0,s.default)(a.default.mark(function t(){var r,s;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.form.post(\"/api/users\");case 2:r=t.sent,s=r.data,e.$store.dispatch(\"auth/updateUser\",{user:s.data});case 5:case\"end\":return t.stop()}},t,e)}))()},selectGame:function(){var e=this;return(0,s.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getGameRoles(e.game_id);case 2:case\"end\":return t.stop()}},t,e)}))()}}}},dqi5:function(e,t,r){var a=r(\"VU/8\")(r(\"QVM2\"),r(\"J5fx\"),!1,null,null,null);e.exports=a.exports}});\n\n\n// WEBPACK FOOTER //\n// js/7.fb46481454619614673e.js"],"mappings":"AAAA","sourceRoot":""}