{"version":3,"file":"js/7.d0c592c1ef298becfe70.js","sources":["webpack:///js/7.d0c592c1ef298becfe70.js"],"sourcesContent":["webpackJsonp([7],{\"+GOX\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=u(r(\"Xxa5\")),a=u(r(\"exGp\")),o=u(r(\"Dd8w\")),i=u(r(\"yKuP\")),s=r(\"NYxO\"),l=u(r(\"mtWM\")),c=u(r(\"3SI7\")),d=u(r(\"olAn\"));u(r(\"I3G/\"));function u(e){return e&&e.__esModule?e:{default:e}}t.default={middleware:\"guest\",components:{LoginWithSocial:c.default,VueRecaptcha:d.default},metaInfo:function(){return{title:this.$t(\"register\")}},data:function(){return{form:new i.default({type:\"player\",name:\"\",email:\"\",nickname:\"\",password:\"\",game_id:\"\",game_roles:[1],timezone:void 0!==Intl.DateTimeFormat().resolvedOptions().timeZone?Intl.DateTimeFormat().resolvedOptions().timeZone:\"\",agree:!0}),games:null,game:null,cofirmation_sent:!1}},computed:(0,o.default)({},(0,s.mapGetters)({user:\"auth/user\",locale:\"lang/locale\"})),mounted:function(){this.getDota(),this.getGames()},methods:{register:function(){var e=this;return(0,a.default)(n.default.mark(function t(){var r,a,o,i;return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.form.post(\"/api/register\");case 2:return r=t.sent,a=r.data,e.cofirmation_sent=!0,t.next=7,e.form.post(\"/api/login\");case 7:return o=t.sent,i=o.data.token,e.$store.dispatch(\"auth/saveToken\",{token:i}),t.next=12,e.$store.dispatch(\"auth/updateUser\",{user:a});case 12:e.$router.push({name:\"settings.instruction\"});case 13:case\"end\":return t.stop()}},t,e)}))()},getDota:function(){var e=this;return(0,a.default)(n.default.mark(function t(){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.default.get(\"/api/games?title=Dota 2\").then(function(t){e.$set(e,\"game\",t.data[0])});case 2:case\"end\":return t.stop()}},t,e)}))()},getGames:function(){var e=this;return(0,a.default)(n.default.mark(function t(){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.default.get(\"/api/games\").then(function(t){e.$set(e,\"games\",t.data)});case 2:case\"end\":return t.stop()}},t,e)}))()},sendVerifyEmail:function(){var e=this;l.default.post(\"/api/email/verify_code/resend\").then(function(t){e.cofirmation_sent=!0})}}}},\"3SI7\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(\"ZZTC\"),a=r.n(n);for(var o in n)\"default\"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var i=r(\"ls8D\"),s=r(\"VU/8\")(a.a,i.a,!1,null,null,null);t.default=s.exports},XCoq:function(e,t,r){\"use strict\";var n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r(\"div\",{staticClass:\"row\"},[r(\"div\",{staticClass:\"col-lg-8 m-auto\"},[r(\"card\",{attrs:{title:e.$t(\"register\")}},[e.cofirmation_sent?e._e():r(\"form\",{on:{submit:function(t){return t.preventDefault(),e.register(t)},keydown:function(t){return e.form.onKeydown(t)}}},[r(\"alert-error\",{attrs:{form:e.form}}),e._v(\" \"),r(\"div\",{staticClass:\"form-group row\"},[r(\"label\",{staticClass:\"col-md-3 col-form-label text-md-right\"},[e._v(e._s(e.$t(\"nickname\")))]),e._v(\" \"),r(\"div\",{staticClass:\"col-md-7\"},[r(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.form.nickname,expression:\"form.nickname\"}],staticClass:\"form-control\",class:{\"is-invalid\":e.form.errors.has(\"nickname\")},attrs:{type:\"text\",name:\"nickname\"},domProps:{value:e.form.nickname},on:{input:function(t){t.target.composing||e.$set(e.form,\"nickname\",t.target.value)}}}),e._v(\" \"),r(\"has-error\",{attrs:{form:e.form,field:\"nickname\"}})],1)]),e._v(\" \"),r(\"div\",{staticClass:\"form-group row\"},[r(\"label\",{staticClass:\"col-md-3 col-form-label text-md-right\"},[e._v(e._s(e.$t(\"name\")))]),e._v(\" \"),r(\"div\",{staticClass:\"col-md-7\"},[r(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.form.name,expression:\"form.name\"}],staticClass:\"form-control\",class:{\"is-invalid\":e.form.errors.has(\"name\")},attrs:{type:\"text\",name:\"name\"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,\"name\",t.target.value)}}}),e._v(\" \"),r(\"has-error\",{attrs:{form:e.form,field:\"name\"}})],1)]),e._v(\" \"),r(\"div\",{staticClass:\"form-group row\"},[r(\"label\",{staticClass:\"col-md-3 col-form-label text-md-right\"},[e._v(e._s(e.$t(\"game\")))]),e._v(\" \"),r(\"div\",{staticClass:\"col-md-7\"},[r(\"select\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.form.game_id,expression:\"form.game_id\"}],staticClass:\"form-control\",class:{\"is-invalid\":e.form.errors.has(\"game_id\")},attrs:{name:\"game_id\"},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return\"_value\"in e?e._value:e.value});e.$set(e.form,\"game_id\",t.target.multiple?r:r[0])}}},e._l(e.games,function(t){return r(\"option\",{key:t.id,domProps:{value:t.id}},[e._v(\"\\n                \"+e._s(t.title)+\"\\n              \")])}),0),e._v(\" \"),r(\"has-error\",{attrs:{form:e.form,field:\"game_id\"}})],1)]),e._v(\" \"),r(\"div\",{staticClass:\"form-group row\"},[r(\"label\",{staticClass:\"col-md-3 col-form-label text-md-right\"},[e._v(e._s(e.$t(\"email\")))]),e._v(\" \"),r(\"div\",{staticClass:\"col-md-7\"},[r(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.form.email,expression:\"form.email\"}],staticClass:\"form-control\",class:{\"is-invalid\":e.form.errors.has(\"email\")},attrs:{type:\"email\",name:\"email\"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,\"email\",t.target.value)}}}),e._v(\" \"),r(\"has-error\",{attrs:{form:e.form,field:\"email\"}}),e._v(\" \"),r(\"div\",{staticClass:\"help-block\"},[e._v(e._s(e.$t(\"register_email_help\")))])],1)]),e._v(\" \"),r(\"div\",{staticClass:\"form-group row\"},[r(\"label\",{staticClass:\"col-md-3 col-form-label text-md-right\"},[e._v(e._s(e.$t(\"password\")))]),e._v(\" \"),r(\"div\",{staticClass:\"col-md-7\"},[r(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.form.password,expression:\"form.password\"}],staticClass:\"form-control\",class:{\"is-invalid\":e.form.errors.has(\"password\")},attrs:{type:\"password\",name:\"password\"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,\"password\",t.target.value)}}}),e._v(\" \"),r(\"has-error\",{attrs:{form:e.form,field:\"password\"}})],1)]),e._v(\" \"),r(\"div\",{staticClass:\"form-group row\"},[r(\"div\",{staticClass:\"col-md-3\"}),e._v(\" \"),r(\"div\",{staticClass:\"col-md-7 d-flex\"},[r(\"checkbox\",{class:{\"is-invalid\":e.form.errors.has(\"agree\")},attrs:{name:\"agree\"},model:{value:e.form.agree,callback:function(t){e.$set(e.form,\"agree\",t)},expression:\"form.agree\"}},[e._v(\"\\n              \"+e._s(e.$t(\"agree\"))+\"\\n            \")]),e._v(\" \"),r(\"has-error\",{attrs:{form:e.form,field:\"agree\"}})],1)]),e._v(\" \"),r(\"div\",{staticClass:\"form-group row\"},[r(\"div\",{staticClass:\"col-md-7 offset-md-3 d-flex\"},[r(\"v-button\",{attrs:{loading:e.form.busy}},[e._v(\"\\n              \"+e._s(e.$t(\"register\"))+\"\\n            \")])],1)])],1)])],1)])},staticRenderFns:[]};t.a=n},ZZTC:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=c(r(\"fZjL\")),a=c(r(\"Dd8w\")),o=c(r(\"pFYg\")),i=c(r(\"Xxa5\")),s=c(r(\"exGp\")),l=c(r(\"lbHh\"));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};\"object\"===(void 0===e?\"undefined\":(0,o.default)(e))&&(r=e,e=\"\"),r=(0,a.default)({url:e,title:t,width:600,height:720},r);var i=void 0!==window.screenLeft?window.screenLeft:window.screen.left,s=void 0!==window.screenTop?window.screenTop:window.screen.top,l=window.innerWidth||document.documentElement.clientWidth||window.screen.width,c=window.innerHeight||document.documentElement.clientHeight||window.screen.height;r.left=l/2-r.width/2+i,r.top=c/2-r.height/2+s;var d=(0,n.default)(r).reduce(function(e,t){return e.push(t+\"=\"+r[t]),e},[]).join(\",\"),u=window.open(e,t,d);return window.focus&&u.focus(),u}t.default={name:\"LoginWithSocial\",props:{provider:{type:String,default:null},ic:{type:String,default:null},text:{type:String,default:null}},mounted:function(){window.addEventListener(\"message\",this.onMessage,!1)},beforeDestroy:function(){window.removeEventListener(\"message\",this.onMessage)},methods:{login:function(){var e=this;return(0,s.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:d(\"/social/\"+e.provider+\"?token=\"+l.default.get(\"token\"),e.$t(\"login\"));case 2:case\"end\":return t.stop()}},t,e)}))()},onMessage:function(e){e.origin!==window.origin&&e.origin!==window.config.apiHost||!e.data.token||(this.$store.dispatch(\"auth/saveToken\",{token:e.data.token}),this.$router.push({name:\"settings.profile\"}))}}}},ls8D:function(e,t,r){\"use strict\";var n={render:function(){var e=this.$createElement,t=this._self._c||e;return t(\"button\",{class:\"nk-btn nk-btn-rounded nk-btn-color-dark-3 nk-btn-hover-color-info p-9 ml-5 btn-\"+this.ic+\" nk-social-\"+this.ic,attrs:{type:\"button\"},on:{click:this.login}},[this._v(\"\\n    \"+this._s(this.text)+\"\\n    \"),t(\"fa\",{attrs:{icon:[\"fab\",this.ic]}})],1)},staticRenderFns:[]};t.a=n},olAn:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n,a=(n=function(){var e=!1,t=[];return{resolved:function(){return e},resolve:function(r){if(!e){e=!0;for(var n=0,a=t.length;n<a;n++)t[n](r)}},promise:{then:function(r){e?r():t.push(r)}}}}(),{notify:function(){n.resolve()},wait:function(){return n.promise},render:function(e,t,r){this.wait().then(function(){r(window.grecaptcha.render(e,t))})},reset:function(e){void 0!==e&&(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.reset(e)}))},execute:function(e){void 0!==e&&(this.assertLoaded(),this.wait().then(function(){return window.grecaptcha.execute(e)}))},checkRecaptchaLoad:function(){window.hasOwnProperty(\"grecaptcha\")&&window.grecaptcha.hasOwnProperty(\"render\")&&this.notify()},assertLoaded:function(){if(!n.resolved())throw new Error(\"ReCAPTCHA has not been loaded\")}});\"undefined\"!=typeof window&&(window.vueRecaptchaApiLoaded=a.notify);var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i={name:\"VueRecaptcha\",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String}},mounted:function(){var e=this;a.checkRecaptchaLoad();var t=o({},this.$props,{callback:this.emitVerify,\"expired-callback\":this.emitExpired}),r=this.$slots.default?this.$el.children[0]:this.$el;a.render(r,t,function(t){e.$widgetId=t,e.$emit(\"render\",t)})},methods:{reset:function(){a.reset(this.$widgetId)},execute:function(){a.execute(this.$widgetId)},emitVerify:function(e){this.$emit(\"verify\",e)},emitExpired:function(){this.$emit(\"expired\")}},render:function(e){return e(\"div\",{},this.$slots.default)}};t.default=i},\"zAw/\":function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(\"+GOX\"),a=r.n(n);for(var o in n)\"default\"!==o&&function(e){r.d(t,e,function(){return n[e]})}(o);var i=r(\"XCoq\"),s=r(\"VU/8\")(a.a,i.a,!1,null,null,null);t.default=s.exports}});\n\n\n// WEBPACK FOOTER //\n// js/7.d0c592c1ef298becfe70.js"],"mappings":"AAAA","sourceRoot":""}