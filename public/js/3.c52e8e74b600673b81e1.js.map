{"version":3,"file":"js/3.c52e8e74b600673b81e1.js","sources":["webpack:///js/3.c52e8e74b600673b81e1.js"],"sourcesContent":["webpackJsonp([3],{\"+Z8z\":function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=u(n(\"fZjL\")),r=u(n(\"Dd8w\")),s=u(n(\"pFYg\")),a=u(n(\"Xxa5\")),i=u(n(\"exGp\"));function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};\"object\"===(void 0===t?\"undefined\":(0,s.default)(t))&&(n=t,t=\"\"),n=(0,r.default)({url:t,title:e,width:600,height:720},n);var a=void 0!==window.screenLeft?window.screenLeft:window.screen.left,i=void 0!==window.screenTop?window.screenTop:window.screen.top,u=window.innerWidth||document.documentElement.clientWidth||window.screen.width,l=window.innerHeight||document.documentElement.clientHeight||window.screen.height;n.left=u/2-n.width/2+a,n.top=l/2-n.height/2+i;var d=(0,o.default)(n).reduce(function(t,e){return t.push(e+\"=\"+n[e]),t},[]).join(\",\"),c=window.open(t,e,d);return window.focus&&c.focus(),c}e.default={name:\"LoginWithGithub\",computed:{githubAuth:function(){return window.config.vkontakteAuth},url:function(){return\"/api/social/steam\"}},mounted:function(){window.addEventListener(\"message\",this.onMessage,!1)},beforeDestroy:function(){window.removeEventListener(\"message\",this.onMessage)},methods:{login:function(){var t=this;return(0,i.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch(\"auth/fetchOauthUrl\",{provider:\"steam\"});case 2:l(e.sent,t.$t(\"login\"));case 4:case\"end\":return e.stop()}},e,t)}))()},onMessage:function(t){t.origin!==window.origin&&t.origin!==window.config.apiHost||!t.data.token||(this.$store.dispatch(\"auth/saveToken\",{token:t.data.token}),this.$router.push({name:\"home\"}))}}}},OMNW:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(\"+Z8z\"),r=n.n(o);for(var s in o)\"default\"!==s&&function(t){n.d(e,t,function(){return o[t]})}(s);var a=n(\"dQsP\"),i=n(\"VU/8\")(r.a,a.a,!1,null,null,null);e.default=i.exports},dQsP:function(t,e,n){\"use strict\";var o={render:function(){var t=this.$createElement,e=this._self._c||t;return this.githubAuth?e(\"button\",{staticClass:\"btn btn-dark ml-auto\",attrs:{type:\"button\"},on:{click:this.login}},[this._v(\"\\n  \"+this._s(this.$t(\"login_with\"))+\"\\n  \"),e(\"fa\",{attrs:{icon:[\"fab\",\"steam\"]}})],1):this._e()},staticRenderFns:[]};e.a=o},ihEP:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=i(n(\"Xxa5\")),r=i(n(\"exGp\")),s=i(n(\"yKuP\")),a=i(n(\"OMNW\"));function i(t){return t&&t.__esModule?t:{default:t}}e.default={middleware:\"guest\",components:{LoginWithGithub:a.default},metaInfo:function(){return{title:this.$t(\"login\")}},data:function(){return{form:new s.default({email:\"\",password:\"\"}),remember:!1}},methods:{login:function(){var t=this;return(0,r.default)(o.default.mark(function e(){var n,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.form.post(\"/api/login\");case 2:return n=e.sent,r=n.data,t.$store.dispatch(\"auth/saveToken\",{token:r.token,remember:t.remember}),e.next=7,t.$store.dispatch(\"auth/fetchUser\");case 7:t.$router.push({name:\"home\"});case 8:case\"end\":return e.stop()}},e,t)}))()}}}},ozxK:function(t,e,n){\"use strict\";var o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"row\"},[n(\"div\",{staticClass:\"col-lg-8 m-auto\"},[n(\"card\",{attrs:{title:t.$t(\"login\")}},[n(\"form\",{on:{submit:function(e){e.preventDefault(),t.login(e)},keydown:function(e){t.form.onKeydown(e)}}},[n(\"div\",{staticClass:\"form-group row\"},[n(\"label\",{staticClass:\"col-md-3 col-form-label text-md-right\"},[t._v(t._s(t.$t(\"email\")))]),t._v(\" \"),n(\"div\",{staticClass:\"col-md-7\"},[n(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form.email,expression:\"form.email\"}],staticClass:\"form-control\",class:{\"is-invalid\":t.form.errors.has(\"email\")},attrs:{type:\"email\",name:\"email\"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,\"email\",e.target.value)}}}),t._v(\" \"),n(\"has-error\",{attrs:{form:t.form,field:\"email\"}})],1)]),t._v(\" \"),n(\"div\",{staticClass:\"form-group row\"},[n(\"label\",{staticClass:\"col-md-3 col-form-label text-md-right\"},[t._v(t._s(t.$t(\"password\")))]),t._v(\" \"),n(\"div\",{staticClass:\"col-md-7\"},[n(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:t.form.password,expression:\"form.password\"}],staticClass:\"form-control\",class:{\"is-invalid\":t.form.errors.has(\"password\")},attrs:{type:\"password\",name:\"password\"},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,\"password\",e.target.value)}}}),t._v(\" \"),n(\"has-error\",{attrs:{form:t.form,field:\"password\"}})],1)]),t._v(\" \"),n(\"div\",{staticClass:\"form-group row\"},[n(\"div\",{staticClass:\"col-md-3\"}),t._v(\" \"),n(\"div\",{staticClass:\"col-md-7 d-flex\"},[n(\"checkbox\",{attrs:{name:\"remember\"},model:{value:t.remember,callback:function(e){t.remember=e},expression:\"remember\"}},[t._v(\"\\n              \"+t._s(t.$t(\"remember_me\"))+\"\\n            \")]),t._v(\" \"),n(\"router-link\",{staticClass:\"small ml-auto my-auto\",attrs:{to:{name:\"password.request\"}}},[t._v(\"\\n              \"+t._s(t.$t(\"forgot_password\"))+\"\\n            \")])],1)]),t._v(\" \"),n(\"div\",{staticClass:\"form-group row\"},[n(\"div\",{staticClass:\"col-md-7 offset-md-3 d-flex\"},[n(\"v-button\",{attrs:{loading:t.form.busy}},[t._v(\"\\n              \"+t._s(t.$t(\"login\"))+\"\\n            \")]),t._v(\" \"),n(\"login-with-github\")],1)])])])],1)])},staticRenderFns:[]};e.a=o},yNuM:function(t,e,n){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var o=n(\"ihEP\"),r=n.n(o);for(var s in o)\"default\"!==s&&function(t){n.d(e,t,function(){return o[t]})}(s);var a=n(\"ozxK\"),i=n(\"VU/8\")(r.a,a.a,!1,null,null,null);e.default=i.exports}});\n\n\n// WEBPACK FOOTER //\n// js/3.c52e8e74b600673b81e1.js"],"mappings":"AAAA","sourceRoot":""}